<div class="flex flex-row flex-wrap justify-between gap-4">
  @for (item of items(); track item.id) {
  <div [routerLink]="['/', mediaType(), item.id]"
    class="card cursor-pointer xl:w-[24%] md:w-[40%] w-full bg-base-200 shadow-md hover:shadow-lg transition-shadow duration-300">

    <figure class="rounded-t-lg overflow-hidden">
      <img class="h-auto w-full  bg-contain" src="{{ imagePath + item.poster_path }}"
        alt="{{ item.title || item.name }}" />
    </figure>

    <div class="card-body p-4">
      <h2 class="card-title text-lg font-semibold truncate">
        {{ item.title || item.name }}
      </h2>

      <p class="text-sm text-gray-500 line-clamp-3">
        {{ item.overview }}
      </p>

      <div class="card-actions justify-between mt-2 text-sm text-gray-400">
        <span class="badge badge-outline">
          {{ item.release_date ? (item.release_date | date: 'yyyy') : (item.first_air_date | date: 'yyyy') }}
        </span>
        <span class="badge px-3 py-1 rounded-full font-semibold text-sm" [ngClass]="{
          'bg-green-500 text-black dark:text-white': item.vote_average >= 7,
          'bg-yellow-500 text-black': item.vote_average >= 5 && item.vote_average < 7,
          'bg-red-500 text-white': item.vote_average < 5
        }">
          â˜… {{ item.vote_average.toFixed(1) }}
        </span>
      </div>
    </div>

  </div>
  }@empty {
  <div class="flex flex-wrap justify-between gap-4">
    @for (item of skeletonArray; track $index) {
    <div class="card cursor-pointer xl:w-[24%] md:w-[40%] w-full bg-base-200 shadow-md">
      <div class="skeleton h-[360px] w-full rounded-t-lg"></div>
      <div class="p-4 space-y-2">
        <div class="skeleton h-5 w-3/4"></div>
        <div class="skeleton h-4 w-full"></div>
        <div class="skeleton h-4 w-5/6"></div>
        <div class="skeleton h-4 w-2/3 mt-2"></div>
      </div>
    </div>
    }
  </div>
  }
</div>